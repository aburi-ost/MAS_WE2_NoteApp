<style>
    form { display: flex; flex-direction: column; align-items: flex-start;
    margin: 20px; } label { width: 100%; } input[type="checkbox"] { margin-left:
    0; } input, textarea { width: 100%; } button { margin-top: 10px; }
</style>

<form id='updateEntryForm'>
    <!-- Todo: option without "each" as there is always only one dataset here -->
    {{#each data}}

        <input type='hidden' name='id' value='{{this._id}}' />

        <label for='title'>Title:</label>
        <input
            type='text'
            id='title'
            name='noteTitle'
            required
            value={{this.title}}
        />

        <label for='importance'>Importance (1-5):</label>
        <input
            type='number'
            id='importance'
            name='noteImportance'
            min='1'
            max='5'
            required
            value={{this.importance}}
        />

        <label for='date'>Due Date:</label>
        <input
            type='date'
            id='date'
            name='noteDueDate'
            required
            value={{this.dueDate}}
        />

        <!-- Todo add correct handling for checkbox. A set checkbox should set the value to "COMPLETED", an unticked one to "OPEN"-->
        <!-- Todo the state needs to be set according to the read data here -> something like #if_eq -->
        <label for='state'>Finished:</label>
        <input type='checkbox' id='state' name='noteState' value='COMPLETED' />

        <label for='description'>Description:</label>
        <textarea
            id='description'
            name='noteDescription'
        >{{this.description}}</textarea>
    {{/each}}
</form>

<!-- // Todo separate, hidden form for overview bad practice? -->
<form id='overviewForm' action='/index' method='GET'>
</form>

<!--------------------------------------------------------------------------------------------------------------------->
<!-- Todo updateButton should not redirect to index or reload details-->
<button
    id='updateButton'
    form='updateEntryForm'
    type='submit'
    formaction='/update?redirect=false'
    formmethod='POST'
>Update</button>
<button
    id='updateAndOverviewButton'
    form='updateEntryForm'
    type='submit'
    formaction='/update?redirect=true'
    formmethod='POST'
>Update & Overview</button>
<button id='overviewButton' form='overviewForm' type='submit'>
    Overview
</button>