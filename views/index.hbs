<div class="index">
    <div class='section-margin button-section-index'>
        <form action='/details' method='GET'>
            <button id='createButton' type='submit'>Create new Todo</button>
        </form>
        <form action='/index' method='POST'>
            <input type='hidden' name='darkMode' value='true'/>
            <button id='toggleStyle' type='submit'>Toggle Style</button>
        </form>
    </div>
    <div class='section-margin order-button-section-index'>
        <form action='/index' method='POST'>
            <input type='hidden' name='orderBy' value='title'/>
            <button {{#if_eq "title" orderBy}} class='button-selected-index' {{/if_eq}} id='orderByName' type='submit'>
                By Name
                <span class='{{#if_eq "title"
                                      orderBy}} sort-icon-visible-index {{else}} sort-icon-invisible-index {{/if_eq}}'>
                    {{get_orderDirection_icon orderDirection}}
                </span>
            </button>
        </form>
        <form action='/index' method='POST'>
            <input type='hidden' name='orderBy' value='dueDate'/>
            <button {{#if_eq "dueDate" orderBy}} class='button-selected-index' {{/if_eq}} id='orderByDueDate' type='submit'>
                By Due Date
                <span class='{{#if_eq "dueDate"
                                      orderBy}} sort-icon-visible-index {{else}} sort-icon-invisible-index {{/if_eq}}'>
                    {{get_orderDirection_icon orderDirection}}
                </span>
            </button>
        </form>
        <form action='/index' method='POST'>
            <input type='hidden' name='orderBy' value='creationDate'/>
            <button {{#if_eq "creationDate" orderBy}}
            class='button-selected-index' {{/if_eq}} id='orderCreationDate' type='submit'>
                By Creation Date
                <span class='{{#if_eq "creationDate"
                                      orderBy}} sort-icon-visible-index {{else}} sort-icon-invisible-index {{/if_eq}}'>
                    {{get_orderDirection_icon orderDirection}}
                </span>
            </button>
        </form>
        <form action='/index' method='POST'>
            <input type='hidden' name='orderBy' value='importance'/>
            <button {{#if_eq "importance" orderBy}}
            class='button-selected-index' {{/if_eq}} id='orderByImportance' type='submit'>
                By Importance
                <span class='{{#if_eq "importance"
                                      orderBy}} sort-icon-visible-index {{else}} sort-icon-invisible-index {{/if_eq}}'>
                    {{get_orderDirection_icon orderDirection}}
                </span>
            </button>
        </form>
    </div>
    <div class='section-margin'>
        <form action='/index' method='POST'>
            <input type='hidden' name='filterCompleted' value='true'/>
            <button {{#if_eq true filterCompleted}}
            class='button-selected-index' {{/if_eq}} id='filterCompleted' type='submit'>
                Filter Completed
            </button>
        </form>
    </div>
    <div class='main-table-index'>
        {{#if data}}
            {{#each data}}
                <div class="seperator-index">
                    <div class='{{#if_eq this.state (get_EntryState_Completed)}} grayed-out {{/if_eq}}'>
                        <div class="day-titel-importance-index section-margin">
                            <div>
                                {{dueDate_in_Days this.dueDate}}
                            </div>
                            <div> {{this.title}} </div>
                            <div class="flash-index">
                                {{get_importance_icons this.importance}}
                            </div>
                        </div>
                        <div class="checkbox-state-description-index section-margin">
                            <div class='entry-row-index checkbox-container'>
                                <input type='checkbox' class="checkbox" id="state" disabled {{#if_eq this.state (get_EntryState_Completed)}}checked{{/if_eq}} />
                                <label for='state'>{{#if_eq this.state (get_EntryState_Completed)}}
                                    Completed {{else}} Open {{/if_eq}}</label>
                            </div>
                            <div> {{this.description}} </div>
                        </div>
                    </div>
                    <div class='section-margin'>
                        <form id='editForm' action='/details/{{_id}}' method='GET'>
                            <button type='submit'>Edit</button>
                        </form>
                    </div>
                </div>
            {{/each}}
        {{else}}
            <div class='noTable-index'>No todos found</div>
        {{/if}}
    </div>
</div>
